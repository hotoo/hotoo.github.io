<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN" lang="zh-CN">
<head>
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta http-equiv="Content-Type" content="text/html; charset=gbk" />
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<title>page</title>
<style type="text/css">/*<![CDATA[*/
a{margin:2px; border:1px solid #ccc; display:inline-block; padding:3px 5px;}
a.current{background:#eee; color:#999;}
/*]]>*/</style>
</head>
<body>

<script type="text/javascript">/*<![CDATA[*/

function page(curr, total, action, param, next, prev, context){
    if(!context){context=3;}
    var s='';
    if(prev){
        s+='<a class="prev" '+(curr>1?' href="'+action+param.replace("${page}", curr-1)+'"':'')+'>'+prev+'</a>';
    }
    s+='<a'+(curr==1 ? ' class="current"' : ' href="'+action+param.replace("${page}", i)+'"')+'>1</a>';
    if(curr>context+2){
        s+='<b>...</b>';
    }
    var start = curr - context;
    if(start<=2){start=2}
    for(var i=start; i<curr; i++){
        s+='<a href="'+action+param.replace("${page}", i)+'">'+i+'</a>';
    }
    if(1!=curr){
        s+='<a class="current">'+curr+'</a>';
    }
    var end = curr + context;
    if(end>=total-1){end=total-1;}
    for(var i=curr+1; i<=end; i++){
        s+='<a href="'+action+param.replace("${page}", i)+'">'+i+'</a>';
    }
    if(curr < total-context-1){
        s+='<b>...</b>';
    }
    if(total!=curr){
        s+='<a href="'+action+param.replace("${page}", i)+'">'+total+'</a>';
    }
    if(next){
        s+='<a class="prev" '+(curr<total?' href="'+action+param.replace("${page}", curr+1)+'"':'')+'>'+next+'</a>';
    }
    return s;
}
document.write(page(1, 100, "page-nav.html", "?name=tom&p=${page}")+"<br />");
document.write(page(2, 100, "page-nav.html", "?name=tom&p=${page}")+"<br />");
document.write(page(3, 100, "page-nav.html", "?name=tom&p=${page}")+"<br />");
document.write(page(4, 100, "page-nav.html", "?name=tom&p=${page}")+"<br />");
document.write(page(5, 100, "page-nav.html", "?name=tom&p=${page}")+"<br />");
document.write(page(6, 100, "page-nav.html", "?name=tom&p=${page}")+"<br />");
document.write(page(7, 100, "page-nav.html", "?name=tom&p=${page}")+"<br />");
document.write(page(50, 100, "page-nav.html", "?name=tom&p=${page}")+"<br />");
document.write(page(94, 100, "page-nav.html", "?name=tom&p=${page}")+"<br />");
document.write(page(95, 100, "page-nav.html", "?name=tom&p=${page}")+"<br />");
document.write(page(96, 100, "page-nav.html", "?name=tom&p=${page}")+"<br />");
document.write(page(97, 100, "page-nav.html", "?name=tom&p=${page}")+"<br />");
document.write(page(98, 100, "page-nav.html", "?name=tom&p=${page}")+"<br />");
document.write(page(99, 100, "page-nav.html", "?name=tom&p=${page}")+"<br />");
document.write(page(100, 100, "page-nav.html", "?name=tom&p=${page}")+"<br />");

document.write(page(50, 100, "page-nav.html", "?name=tom&p=${page}", "Next")+"<br />");
document.write(page(1, 100, "page-nav.html", "?name=tom&p=${page}", "Next", "Prev")+"<br />");
document.write(page(100, 100, "page-nav.html", "?name=tom&p=${page}", "Next", "Prev")+"<br />");

/*]]>*/</script>

</body>
</html>
