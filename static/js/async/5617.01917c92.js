"use strict";(self.webpackChunkhotoo_github_io=self.webpackChunkhotoo_github_io||[]).push([["5617"],{97344:function(e,n,l){l.r(n),l.d(n,{default:()=>i});var s=l(74132),r=l(40453);function t(e){let n=Object.assign({h1:"h1",a:"a",ol:"ol",li:"li",p:"p",pre:"pre",code:"code",h2:"h2",ul:"ul"},(0,r.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.h1,{id:"说说渐进加载",children:["说说渐进加载",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#说说渐进加载",children:"#"})]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"google+, quora, twitter... 这些网站都使用渐进加载数据的方式，\n类似的还有淘宝图片的懒加载，都是等用户真正滚到最后之后才开始去加载，\n提前一些预加载体验不是更好么。"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\xa0"}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"到最后一页了还是有“更多”，直到点击最后一个更多没加载到数据才告诉用户\n没更多数据了，这不是蛋疼么？"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"估计是基于算法上的考虑，比如每页 10 条："}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"dataList = select top 10 * from table where id > 10 * page;\nfor(var i=0,l=dataList.length; i<l; i++){}\nhasMore = select top 1 * from table where id > 10*(page+1);\n"})}),"\n",(0,s.jsx)(n.p,{children:"这样要查询 2 次。"}),"\n",(0,s.jsx)(n.p,{children:"不过只查数据库一次也是可以的："}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"datas = select top 11 * from table where id > 10*page;\nfor(var i=0,l=min(data.length, 10); i<l; i++){}\nhasMore = datas.length == 11;\n"})}),"\n",(0,s.jsx)(n.p,{children:"好久不写后端程序，不知道他们这么做是否有基于其他的考虑？"}),"\n",(0,s.jsx)(n.p,{children:"p.s. Google+ 个笨蛋居然剔除行首的有效空白，而不剔除行尾的无效空白。。。"}),"\n",(0,s.jsxs)(n.h2,{id:"see-also",children:["See Also",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#see-also",children:"#"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://plus.google.com/108314985261981078822/posts/WrYSxHJnDXW",target:"_blank",rel:"noopener noreferrer",children:"@Google+"})}),"\n"]})]})}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,r.ah)(),e.components);return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(t,{...e})}):t(e)}let i=a;a.__RSPRESS_PAGE_META={},a.__RSPRESS_PAGE_META["blog%2Fpost%2F2011%2Fabout-lazy-load.md"]={toc:[{text:"See Also",id:"see-also",depth:2}],title:"说说渐进加载",headingTitle:"说说渐进加载",frontmatter:[{template:"post.html"},{pubdate:"2011-07-08T00:00:00.000Z"},{tags:"UED, 算法"}]}}}]);