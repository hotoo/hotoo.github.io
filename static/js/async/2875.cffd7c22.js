"use strict";(self.webpackChunkhotoo_github_io=self.webpackChunkhotoo_github_io||[]).push([["2875"],{68691:function(n,e,i){i.r(e),i.d(e,{default:()=>h});var r=i(74132),t=i(40453);function a(n){let e=Object.assign({h1:"h1",a:"a",p:"p",ol:"ol",li:"li",pre:"pre",code:"code",h2:"h2",ul:"ul"},(0,t.ah)(),n.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(e.h1,{id:"在-vim-页签中打开文件",children:["在 Vim 页签中打开文件",(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#在-vim-页签中打开文件",children:"#"})]}),"\n",(0,r.jsx)(e.p,{children:"这两天折腾让文件在 Vim 的新页签中打开（类似 Firefox 等浏览器）的特性，\n发现让文件在页签中打开有非常多的优点："}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"打开文件的速度更快（免去了启动 Vim 的时间）"}),"\n",(0,r.jsx)(e.li,{children:"占用内存等资源更少（单个 Vim 窗口比多个窗口节省资源）"}),"\n",(0,r.jsx)(e.li,{children:"任务栏更节省可用空间（不过 Windows 7 中还未支持任务栏多页签内容预览）。"}),"\n",(0,r.jsx)(e.li,{children:"编辑过程中文件间可以快速跳转，缓冲区也可以共享。"}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:["我参考前辈的方案，做了更 ",(0,r.jsx)(e.a,{href:"http://github.com/hotoo/Edit-with-Vim-tabs",target:"_blank",rel:"noopener noreferrer",children:"自动化的处理脚本"}),"，\n将其中的 edit.with.vim.tabs.reg 合并到注册表就可以了。如果想还原为用窗口打开的方式，\n再将 edit.with.vim.window.reg 合并到注册表中。"]}),"\n",(0,r.jsx)(e.p,{children:"这个设置会让双击默认编辑器为 Vim 的文件，或者右键 -> Edit with Vim 都将文件在页签中\n打开。开始用着确实挺爽，右键菜单中也没有了那些动态增加进来的已打开的文件的菜单项。\n不过后来又发现不止如此，连“用 Vim 比较”(Diff with Vim)的项也没了。"}),"\n",(0,r.jsx)(e.p,{children:"重装了好几次，终于搞清楚了一些东西。注册表的"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:'[HKEY_CLASSES_ROOT\\*\\shellex\\ContextMenuHandlers\\gvim]\n@="{51EEE242-AD87-11d3-9C1E-0090278BBD99}"\n'})}),"\n",(0,r.jsx)(e.p,{children:"是关键项，他根据 gvimext.dll 来附加右键菜单的动态项，包括 Diff with Vim。\n如果你不想有默认的新窗口中打开文件的“用 Vim 编辑 (&V)”(Edit with Vim)，\n就需要把上面这项删除，不过这也会殃及 Diff with Vim。"}),"\n",(0,r.jsx)(e.p,{children:'我实在没有特别好的办法，我在注册表中做了一个 "Diff with Vim" 的项，但是这个菜单命令\n会针对选中的多个文件各自执行一次；而不是执行一次，并将多个选中的文件作为参数\n一次传入。这个肯定也能做到的，参看 Vim 默认的行为，和 WinMerge 等就知道，只求高手来帮忙了。'}),"\n",(0,r.jsx)(e.p,{children:"我目前不希望没有这个选中多个文件并 Diff 的功能（虽然它连快捷键都没有），\n所以只好保留了这个注册表项，为了避免快捷键冲突，只好修改了在页签中打开文件的\n注册表项的快捷键。"}),"\n",(0,r.jsx)(e.p,{children:"或者用其他的文本比较工具，如 WinMerge，BeyondCompare。这样的话，直接删除上面的注册表项。"}),"\n",(0,r.jsx)(e.p,{children:"如果你有好主意，快来快来告诉我 : )"}),"\n",(0,r.jsxs)(e.h2,{id:"其他",children:["其他",(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#其他",children:"#"})]}),"\n",(0,r.jsx)(e.p,{children:"另外给页签加上序号是非常有用的："}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"set guitablabel=%N.%t\n"})}),"\n",(0,r.jsx)(e.p,{children:"尤其是在设置了这样的快捷键之后："}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"imap <C-tab> :tabnext<cr>\nnmap <C-tab> :tabnext<cr>\nimap <C-S-tab> :tabprevious<cr>\nnmap <C-S-tab> :tabprevious<cr>\nimap <M-1> <Esc>:tabfirst<cr>\nnmap <M-1> :tabfirst<cr>\nimap <M-2> <Esc>2gt\nnmap <M-2> 2gt\nimap <M-3> <Esc>3gt\nnmap <M-3> 3gt\nimap <M-4> <Esc>4gt\nnmap <M-4> 4gt\nimap <M-5> <Esc>5gt\nnmap <M-5> 5gt\nimap <M-6> <Esc>6gt\nnmap <M-6> 6gt\nimap <M-7> <Esc>7gt\nnmap <M-7> 7gt\nimap <M-8> <Esc>8gt\nnmap <M-8> 8gt\nimap <M-9> <Esc>9gt\nnmap <M-9> 9gt\nimap <M-0> <Esc>:tablast<cr>\nnmap <M-0> :tablast<cr>\n"})}),"\n",(0,r.jsx)(e.p,{children:"更多，但是不推荐(因为跟默认快捷键冲突)的快捷键设置："}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:'" [CONFLICT] back tag history\nimap <C-t> <Esc>:tabnew<cr>\nnmap <C-t> :tabnew<cr>\n" [CONFLICT] window shortcut key.\nimap <C-w> <Esc>:tabclose<cr>\nnmap <C-w> :tableclose<cr>\nimap <C-S-w> <Esc>:tabonly<cr>\nnmap <C-S-w> :tabonly<cr>\n'})}),"\n",(0,r.jsxs)(e.h2,{id:"更新-2010626",children:["更新 (2010/6/26)",(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#更新-2010626",children:"#"})]}),"\n",(0,r.jsxs)(e.p,{children:["今天想折腾一下 gvimext.dll ，因为这个是问题的本源，只要将它里面的“用 Vim 编辑”(Edit with Vim)加上参数，\n改成新页签中打开的方式就好了，而且选中多个文件进行比较，好像也必须使用动态连接库的方式实现，\n于是找到了这个 ",(0,r.jsx)(e.a,{href:"http://www.vim.org/scripts/script.php?script_id=1720",target:"_blank",rel:"noopener noreferrer",children:"gvimext.dll"}),"\n它让 Vim 7 支持新页签中打开。试用了一下，感觉有点啰嗦了，它让新窗口和新页签打开文件的方式共存，并且快捷键\n仍然设置在新窗口打开的菜单项上。不过里面带有源码，我们可以改成自己喜欢的方式。"]}),"\n",(0,r.jsxs)(e.h2,{id:"参考链接",children:["参考链接",(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#参考链接",children:"#"})]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"http://wiki.ubuntu.org.cn/index.php?title=Vimfaq&variant=zh-cn",target:"_blank",rel:"noopener noreferrer",children:"Vimfaq - Ubuntu 中文"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"http://easwy.com/blog/archives/vim-tips-windows-open-file-in-tab/",target:"_blank",rel:"noopener noreferrer",children:"vi/vim使用技巧: 在标签页中打开文件 (windows)"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"http://support.microsoft.com/kb/310516/zh-cn",target:"_blank",rel:"noopener noreferrer",children:"如何通过使用注册项 (.reg) 文件添加、修改或删除注册表子项和值"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"http://davidvielmetter.com/?p=1094",target:"_blank",rel:"noopener noreferrer",children:"Context menu issues with gVim in Windows 7 x64"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"http://vim.wikia.com/wiki/Add_open-in-tabs_context_menu_for_Windows",target:"_blank",rel:"noopener noreferrer",children:"Add open-in-tabs context menu for Windows"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"http://vim.wikia.com/wiki/Show_tab_number_in_your_tab_line",target:"_blank",rel:"noopener noreferrer",children:"Show tab number in your tab line"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"http://hi.baidu.com/mimimo/blog/item/e742243f3fe865e755e72351.html",target:"_blank",rel:"noopener noreferrer",children:"为gVim Portable添加右键菜单"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"http://liyanrui.is-programmer.com/posts/1857.html",target:"_blank",rel:"noopener noreferrer",children:"Vim 的标签页功能"})}),"\n"]})]})}function l(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,t.ah)(),n.components);return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(a,{...n})}):a(n)}let h=l;l.__RSPRESS_PAGE_META={},l.__RSPRESS_PAGE_META["blog%2Fpost%2F2010%2Fopen-files-in-vim-tabs.md"]={toc:[{text:"其他",id:"其他",depth:2},{text:"更新 (2010/6/26)",id:"更新-2010626",depth:2},{text:"参考链接",id:"参考链接",depth:2}],title:"在 Vim 页签中打开文件",headingTitle:"在 Vim 页签中打开文件",frontmatter:[{template:"post.html"},{date:"2010-06-25T00:00:00.000Z"},{tags:"Vim"}]}}}]);