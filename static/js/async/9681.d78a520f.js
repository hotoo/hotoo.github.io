"use strict";(self.webpackChunkhotoo_github_io=self.webpackChunkhotoo_github_io||[]).push([["9681"],{75741:function(e,n,r){r.r(n),r.d(n,{default:()=>l});var i=r(74132),s=r(40453);function c(e){let n=Object.assign({h1:"h1",a:"a",ol:"ol",li:"li",pre:"pre",code:"code",p:"p",img:"img"},(0,s.ah)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"增强-vim-的语法折叠",children:["增强 Vim 的语法折叠",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#增强-vim-的语法折叠",children:"#"})]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"折叠多行注释"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"/*\n * This is file description.\n * @author 闲耘™ (@hotoo xianyun[AT]xianyun.org)\n */\n"})}),"\n",(0,i.jsx)(n.p,{children:"折叠为："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"/* This is file description. ... */\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:"折叠单行注释"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"// Line Comment 1.\n// Line Comment 2.\n// Line Comment 3.\n"})}),"\n",(0,i.jsx)(n.p,{children:"折叠为："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"// Line Comments 1. ...\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsx)(n.li,{children:"折叠导入外部定义"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"@import java.lang.*;\n@import java.io.*;\n@import java.net.*;\n@import java.util.*;\n"})}),"\n",(0,i.jsx)(n.p,{children:"折叠为："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"@import java.lang.*; ...\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'#include <iostream>\n#include "xxx.h"\n#include "yyy.h"\n'})}),"\n",(0,i.jsx)(n.p,{children:"折叠为："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"#include <iostream> ...\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"4",children:["\n",(0,i.jsx)(n.li,{children:"折叠作用域"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"window.setTimeout(function(){\n    alert(0);\n}, 1000);\n"})}),"\n",(0,i.jsx)(n.p,{children:"折叠为："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"window.setTimeout(function(){...}, 1000);\n"})}),"\n",(0,i.jsx)(n.p,{children:"这属于语法折叠部分。"}),"\n",(0,i.jsxs)(n.ol,{start:"5",children:["\n",(0,i.jsx)(n.li,{children:"折叠标记语言"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'<div id="demo" onclick="alert(0)">\n    some thing.\n</div>\n'})}),"\n",(0,i.jsx)(n.p,{children:"折叠为："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'<div id="demo">...</div>\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'<link type="text/css" rel="stylesheet" href="xx.css" />\n<link type="text/css" rel="stylesheet" href="yy.css" />\n<link type="text/css" rel="stylesheet" href="zz.css" />\n'})}),"\n",(0,i.jsx)(n.p,{children:"折叠为："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'<link type="text/css" rel="stylesheet" href="xx.css" /> ...\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'<script type="text/javascript" src="xx.js"><\/script>\n<script type="text/javascript" src="yy.js"><\/script>\n<script type="text/javascript" src="zz.js"><\/script>\n'})}),"\n",(0,i.jsx)(n.p,{children:"折叠为："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'<script type="text/javascript" src="xx.js"><\/script> ...\n\n\n<script type="text/javascript">/*<![CDATA[*/\nalert(0);\n/*]]>*/<\/script>\n'})}),"\n",(0,i.jsx)(n.p,{children:"折叠为："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'<script type="text/javascript">...<\/script>\n'})}),"\n",(0,i.jsx)(n.p,{children:"以上是我目前想到的折叠方式，欢迎补充。"}),"\n",(0,i.jsxs)(n.p,{children:["这里推荐一个 ",(0,i.jsx)(n.a,{href:"https://www.vim.org/scripts/script.php?script_id=1491",target:"_blank",rel:"noopener noreferrer",children:"增强的 Javascript 语法文件"})," ，\n有非常多值得借鉴的地方。"]}),"\n",(0,i.jsx)(n.p,{children:"遗憾：折叠文本(foldtext)没有状态栏(statusline)的居左、居右概念(以等号[=]分隔)，\n比如想将在左侧放置折叠上下文文本，右侧放置被折叠的行数："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"if(true){...) ----------------------------------[3 lines]\n"})}),"\n",(0,i.jsx)(n.p,{children:"目前只能通过计算 Vim 窗口宽度和折叠文本的长度来模拟。"}),"\n",(0,i.jsx)(n.p,{children:"这个折叠方法我已经在C,C++,Java,Javascript,CSS上实现，主要跟语法(syntax)\n文件和折叠文本(foldtext) 有关。"}),"\n",(0,i.jsx)(n.p,{children:"另外我觉得被折叠的行应该和注释一样低调一点（desert主题使用金色的文本前景色）。"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.img,{src:"https://farm3.static.flickr.com/2490/4157973680_be7167ac77_o.png",alt:""}),"\n",(0,i.jsx)(n.a,{href:"https://www.flickr.com/photos/hotoo/4157973680/",target:"_blank",rel:"noopener noreferrer",children:"@source"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.img,{src:"https://farm3.static.flickr.com/2556/4157213437_144329fe89_o.png",alt:""}),"\n",(0,i.jsx)(n.a,{href:"https://www.flickr.com/photos/hotoo/4157213437/",target:"_blank",rel:"noopener noreferrer",children:"@source"})]})]})}function t(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,s.ah)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}let l=t;t.__RSPRESS_PAGE_META={},t.__RSPRESS_PAGE_META["blog%2Fpost%2F2009%2Fimpoved-fold-for-vim.md"]={toc:[],title:"增强 Vim 的语法折叠",headingTitle:"增强 Vim 的语法折叠",frontmatter:{date:"2009-12-04T00:00:00.000Z",tags:"Vim"}}}}]);