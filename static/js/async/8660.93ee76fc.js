"use strict";(self.webpackChunkhotoo_github_io=self.webpackChunkhotoo_github_io||[]).push([["8660"],{1786:function(n,e,r){r.r(e),r.d(e,{default:()=>i});var a=r(4132),t=r(453);function s(n){let e=Object.assign({h1:"h1",a:"a",p:"p",code:"code",pre:"pre",h2:"h2",footer:"footer",div:"div",strong:"strong",cite:"cite"},(0,t.ah)(),n.components);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(e.h1,{id:"datenow",children:["Date.now()",(0,a.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#datenow",children:"#"})]}),"\n",(0,a.jsxs)(e.p,{children:["以前做过一个 JavaScript 性能测试“框架”，也看过其他人做性能比较的时候，基本上\n也都是使用 ",(0,a.jsx)(e.code,{children:"new Date()"})," 来记时，会“耍点小花样”的同学会使用 ",(0,a.jsx)(e.code,{children:"+new Date()"}),"。"]}),"\n",(0,a.jsx)(e.p,{children:"现在又想做另一种性能监控的方法，便着重考量了下各种记时方案，尽量减少因为\n性能监控代码对业务代码的影响。"}),"\n",(0,a.jsxs)(e.p,{children:["下面是循环 100000 次，过程中只有计数器操作，得到的时间(ms)对照表\n(",(0,a.jsx)(e.a,{href:"https://hotoo.github.io/labs/Date.now.html",target:"_blank",rel:"noopener noreferrer",children:"Demo"}),")。"]}),"\n",(0,a.jsx)(e.p,{children:"| Browser  | new Date() | new Date().getTime() | new Date().valueOf() | +new Date() | Date.now() |\n|\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n|\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n|\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n|\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n|\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n|\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n|\n| IE8      | 469        | 391                  | 375                  | 406         | \\n          |\n| Firefox6 | 266        | 258                  | 257                  | 259         | 236        |\n| Chrome13 | 46         | 29                   | 29                   | 35          | 20         |\n| Opera11  | 246        | 242                  | 246                  | 244         | 222        |\n| Safari5  | 256        | 232                  | 239                  | 255         | 222        |"}),"\n",(0,a.jsxs)(e.p,{children:["由此可以对照出，",(0,a.jsx)(e.code,{children:"Date.now()"})," 确实有很明显的性能优势，另外 ",(0,a.jsx)(e.code,{children:"Date.now()"})," 返回是\nnumber 类型的数值，并不产生 Date 对象。"]}),"\n",(0,a.jsxs)(e.p,{children:["不过目前只有 IE9, Firefox3+, Chrome5+, Opera10.50+, Safari4+ 支持，对于不支持\n的浏览器，可以继续使用 ",(0,a.jsx)(e.code,{children:"new Date().valueOf()"})," 方法（个人不推荐用 ",(0,a.jsx)(e.code,{children:"+new Date()"}),"）："]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:'// @return {Number}\nfunction now(){\n    return ("function"==typeof Date.now) ? Date.now() : new Date().valueOf();\n}\n'})}),"\n",(0,a.jsxs)(e.h2,{id:"日期相关",children:["日期相关",(0,a.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#日期相关",children:"#"})]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"new Date()          // now.\nnew Date(null);     // 1970/01/01 00:00:00(UTC)\nnew Date(undefined);// IE:NaN; Others:Invalid Date.\n"})}),"\n",(0,a.jsxs)(e.h2,{id:"参考阅读",children:["参考阅读",(0,a.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#参考阅读",children:"#"})]}),"\n",(0,a.jsxs)(e.p,{children:["\\n ",(0,a.jsx)(e.a,{href:"https://msdn.microsoft.com/en%5Cnus/library/ff679974(v=vs.94).aspx",target:"_blank",rel:"noopener noreferrer",children:"Date.now Function (JavaScript) \\n MSDN"}),"\n\\n ",(0,a.jsx)(e.a,{href:"https://developer.mozilla.org/en/JavaScript/Reference/Global%5CnObjects/Date/now",target:"_blank",rel:"noopener noreferrer",children:"Data.now() \\n MDN"})]}),"\n",(0,a.jsxs)("footer",{class:"blog-post-footer",children:[(0,a.jsx)("div",{class:"blog-post-footer-meta meta-left",children:(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"Tags:"})," ",(0,a.jsx)("a",{href:"/blog/tags/JavaScript",children:(0,a.jsx)("cite",{class:"tags",children:"JavaScript"})})]})}),(0,a.jsx)("div",{class:"blog-post-footer-meta meta-right",children:(0,a.jsxs)(e.p,{children:["Published on ",(0,a.jsx)("cite",{class:"date",children:"2011-09-18"})]})})]})]})}function o(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,t.ah)(),n.components);return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(s,{...n})}):s(n)}let i=o;o.__RSPRESS_PAGE_META={},o.__RSPRESS_PAGE_META["..%2Fnode_modules%2F.rspress%2Fruntime%2Ftemp-72.mdx"]={toc:[{text:"日期相关",id:"日期相关",depth:2},{text:"参考阅读",id:"参考阅读",depth:2}],title:"Date.now()",headingTitle:"Date.now()",frontmatter:{category:null,tags:"JavaScript",date:"2011-09-18T00:00:00.000Z"}}}}]);