"use strict";(self.webpackChunkhotoo_github_io=self.webpackChunkhotoo_github_io||[]).push([["5522"],{3898:function(e,s,n){n.r(s),n.d(s,{default:()=>i});var r=n(4132),t=n(453);function l(e){let s=Object.assign({h1:"h1",a:"a",ol:"ol",li:"li",p:"p",pre:"pre",code:"code",h2:"h2",footer:"footer",div:"div",strong:"strong",cite:"cite"},(0,t.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.h1,{id:"说说渐进加载",children:["说说渐进加载",(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#说说渐进加载",children:"#"})]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:"google+, quora, twitter... 这些网站都使用渐进加载数据的方式，\n类似的还有淘宝图片的懒加载，都是等用户真正滚到最后之后才开始去加载，\n提前一些预加载体验不是更好么。"}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"\xa0"}),"\n",(0,r.jsxs)(s.ol,{start:"2",children:["\n",(0,r.jsx)(s.li,{children:"到最后一页了还是有“更多”，直到点击最后一个更多没加载到数据才告诉用户\n没更多数据了，这不是蛋疼么？"}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"估计是基于算法上的考虑，比如每页 10 条："}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-js",children:"dataList = select top 10 \\n from table where id > 10 \\n page;\nfor(var i=0,l=dataList.length; i<l; i++){}\nhasMore = select top 1 \\n from table where id > 10\\n(page+1);\n"})}),"\n",(0,r.jsx)(s.p,{children:"这样要查询 2 次。"}),"\n",(0,r.jsx)(s.p,{children:"不过只查数据库一次也是可以的："}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"datas = select top 11 \\n from table where id > 10\\npage;\nfor(var i=0,l=min(data.length, 10); i<l; i++){}\nhasMore = datas.length == 11;\n"})}),"\n",(0,r.jsx)(s.p,{children:"好久不写后端程序，不知道他们这么做是否有基于其他的考虑？"}),"\n",(0,r.jsx)(s.p,{children:"p.s. Google+ 个笨蛋居然剔除行首的有效空白，而不剔除行尾的无效空白。。。"}),"\n",(0,r.jsxs)(s.h2,{id:"see-also",children:["See Also",(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#see-also",children:"#"})]}),"\n",(0,r.jsxs)(s.p,{children:["\\n ",(0,r.jsx)(s.a,{href:"https://plus.google.com/108314985261981078822/posts/WrYSxHJnDXW",target:"_blank",rel:"noopener noreferrer",children:"@Google+"})]}),"\n",(0,r.jsxs)("footer",{class:"blog-post-footer",children:[(0,r.jsx)("div",{class:"blog-post-footer-meta meta-left",children:(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Tags:"})," ",(0,r.jsx)("a",{href:"/blog/tags/UED",children:(0,r.jsx)("cite",{class:"tags",children:"UED"})}),", ",(0,r.jsx)("a",{href:"/blog/tags/%E7%AE%97%E6%B3%95",children:(0,r.jsx)("cite",{class:"tags",children:"算法"})})]})}),(0,r.jsx)("div",{class:"blog-post-footer-meta meta-right",children:(0,r.jsxs)(s.p,{children:["Published on ",(0,r.jsx)("cite",{class:"date",children:"2011-07-08"})]})})]})]})}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=Object.assign({},(0,t.ah)(),e.components);return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}let i=o;o.__RSPRESS_PAGE_META={},o.__RSPRESS_PAGE_META["..%2Fnode_modules%2F.rspress%2Fruntime%2Ftemp-84.mdx"]={toc:[{text:"See Also",id:"see-also",depth:2}],title:"说说渐进加载",headingTitle:"说说渐进加载",frontmatter:{category:null,tags:"UED, 算法",date:"2011-07-08T00:00:00.000Z",sidebar:!1,footer:!1}}}}]);