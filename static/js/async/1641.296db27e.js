"use strict";(self.webpackChunkhotoo_co=self.webpackChunkhotoo_co||[]).push([["1641"],{2728:function(n,e,s){s.r(e),s.d(e,{default:()=>d});var r=s(4132),l=s(453),i=s(3030);function a(n){let e=Object.assign({h1:"h1",a:"a",p:"p",img:"img",pre:"pre",code:"code",ul:"ul",li:"li",strong:"strong",footer:"footer",div:"div",cite:"cite"},(0,l.ah)(),n.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(e.h1,{id:"末尾的逗号",children:["末尾的逗号",(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#末尾的逗号",children:"#"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:"/images/blog/trailing-commas.png",alt:"trailing commas"})}),"\n",(0,r.jsx)(e.p,{children:"早期的 JavaScript 运行环境大都不支持末尾多出来的逗号，或者会抛出异常，或者不符合期望。"}),"\n",(0,r.jsx)(e.p,{children:"比如："}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-js",children:"var obj = {\n  a: 0, // 抛出异常。\n};\n\nvar arr = [\n  0, // arr.length === 2\n];\n"})}),"\n",(0,r.jsx)(e.p,{children:"由于不支持尾逗号，我们以前写代码都需要手动去除尾逗号（工具最多提示你这里多了个逗号）。\n因此我们增加、删除一个属性、数组项时，总是需要担心相邻项的逗号问题。"}),"\n",(0,r.jsx)(e.p,{children:"比如增加一项："}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["如果被增加项是列表的最后一项，则需要给前一项（原最后一项）添加一个逗号，但被添加项本身不添加逗号。","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"新增一项本来并不需要修改前一项，但是在非尾逗号情况下则必须做这个无本质意义的修改。"}),"\n",(0,r.jsx)(e.li,{children:"这很麻烦，也很容易导致错误。"}),"\n",(0,r.jsx)(e.li,{children:"实际你只是增加了一项，但你在 diff 中会看到又是删除项，又是增加项。review 时你就需要关注这些无谓的变更。"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.li,{children:"如果被添加项不是列表的最后一项，则被添加项要加上逗号。"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-diff",children:" var obj = {\n-  a: 0\n+  a: 0,\n+  b: 1\n };\n\n var arr = [\n-  0\n+  0,\n+  1\n ];\n"})}),"\n",(0,r.jsx)(e.p,{children:"删除一项也是："}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"你本来只是要删除了最后一项，但你不得不修改前一项。麻烦，容易出问题。"}),"\n",(0,r.jsx)(e.li,{children:"你本来只是删除了一项，但在 diff 中也是看到又是删除，又是增加。"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-diff",children:" var obj = {\n-  a: 0,\n-  b: 1\n+  a: 0\n };\n\n var arr = [\n-  0,\n-  1\n+  0\n ];\n"})}),"\n",(0,r.jsx)(e.p,{children:"值得高兴的是，现在的 JavaScript 运行环境、预编译工具、语法检查工具都支持了尾逗号。\n一旦我们统一使用尾逗号风格："}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"我们在增加或删除一项时，再也不需要关心相邻项了。"}),"\n",(0,r.jsx)(e.li,{children:"diff 看起来也更直观清爽。"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"新增一项："}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-diff",children:" var obj = {\n   a: 0,\n+  b: 1,\n };\n\n var arr = [\n   0,\n+  1,\n ];\n"})}),"\n",(0,r.jsx)(e.p,{children:"删除一项："}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-diff",children:" var obj = {\n   a: 0,\n-  b: 1,\n };\n\n var arr = [\n   0,\n-  1,\n ];\n"})}),"\n",(0,r.jsx)(e.p,{children:"另外也有些语言是不需要逗号的，每一项都不需要。比如 Markdown 的列表，yml，yaml，\nxml，html 等。"}),"\n",(0,r.jsxs)(e.p,{children:["全要逗号，或者全不要逗号，他们的共同点就是",(0,r.jsx)(e.strong,{children:"一致性"}),"。这种一致性让书写和阅读都非常简洁清晰。\n可维护性也更好。"]}),"\n",(0,r.jsx)(e.p,{children:"你觉得呢？"}),"\n",(0,r.jsxs)("footer",{class:"blog-post-footer",children:[(0,r.jsx)("div",{class:"blog-post-footer-meta meta-left",children:(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Tags:"})," ",(0,r.jsx)("a",{href:"/blog/tags/Code",children:(0,r.jsx)("cite",{class:"tags",children:"Code"})}),", ",(0,r.jsx)("a",{href:"/blog/tags/Style",children:(0,r.jsx)("cite",{class:"tags",children:"Style"})})]})}),(0,r.jsx)("div",{class:"blog-post-footer-meta meta-right",children:(0,r.jsxs)(e.p,{children:["Published on ",(0,r.jsx)("cite",{class:"date",children:"2015-08-10"})]})})]}),"\n",(0,r.jsx)(i.DiscussionEmbed,{shortname:"hotoo",config:{url:"https://hotoo.co/blog/post/trailing-commas.html",identifier:"/blog/post/trailing-commas.html",title:"末尾的逗号",language:"zh_CN"}})]})}function c(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,l.ah)(),n.components);return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(a,{...n})}):a(n)}let d=c;c.__RSPRESS_PAGE_META={},c.__RSPRESS_PAGE_META["..%2Fnode_modules%2F.rspress%2Fruntime%2Ftemp-32.mdx"]={toc:[],title:"末尾的逗号",headingTitle:"末尾的逗号",frontmatter:{category:null,tags:"Code, Style",date:"2015-08-10T00:00:00.000Z",sidebar:!1,footer:!1}}}}]);