"use strict";(self.webpackChunkhotoo_co=self.webpackChunkhotoo_co||[]).push([["229"],{3415:function(r,e,n){n.r(e),n.d(e,{default:()=>l});var t=n(4132),s=n(453);function a(r){let e=Object.assign({h1:"h1",a:"a",p:"p",code:"code",h2:"h2",footer:"footer",div:"div",strong:"strong",cite:"cite"},(0,s.ah)(),r.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(e.h1,{id:"arguments-to-array-之效率",children:["arguments to Array 之效率",(0,t.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#arguments-to-array-之效率",children:"#"})]}),"\n",(0,t.jsxs)(e.p,{children:["怿飞昨天发有一篇《",(0,t.jsx)(e.a,{href:"https://www.planabc.net/2010/01/06/arguments%5Cnto%5Cnarray/",target:"_blank",rel:"noopener noreferrer",children:"如何将函数的实际参数转换成数组"}),"》\r\n的日志，其实核心不是讲“如何如何”，而是比较了几种算法/语法的效率。\r\n说到算法本身的性能，我和 ",(0,t.jsx)(e.a,{href:"https://www.planabc.net/2010/01/06/arguments%5Cnto%5Cnarray/#comment%5Cn5869",target:"_blank",rel:"noopener noreferrer",children:"army 的看法"}),"\r\n一样，对这篇日志的观点提出质疑。"]}),"\n",(0,t.jsx)(e.p,{children:"从语法原理上，Array.prototype.slice.call(arguments)是对数组的slice方法的原型直接引用，而[].slice.call(arguments)则需要创建数组对象。没有理由后者比前者的性能还要高的。"}),"\n",(0,t.jsxs)(e.p,{children:["不过我还是写了 ",(0,t.jsx)(e.a,{href:"https://hotoo.googlecode.com/svn/trunk/test/toArray.html",target:"_blank",rel:"noopener noreferrer",children:"测试"}),"\r\n来证实自己的观点，为了尽量少的避免其他干扰（包括函数调用带来的消耗），\r\n算法/语法都直接内联写在计时器一起。"]}),"\n",(0,t.jsx)(e.p,{children:"这几个例子分别比较了："}),"\n",(0,t.jsxs)(e.p,{children:["\\n ",(0,t.jsx)(e.code,{children:"Array.apply(this,arguments)"}),"\r\n\\n ",(0,t.jsx)(e.code,{children:"Array.prototype.slice.call(arguments)"}),"\r\n\\n ",(0,t.jsx)(e.code,{children:"[].slice.call(arguments)"}),"\r\n\\n Prototype 的 ",(0,t.jsx)(e.code,{children:"\\nA(arguments)"}),"\r\n\\n jQuery 的 ",(0,t.jsx)(e.code,{children:"makeArray(arguments)"}),"\r\n\\n 和最土的循环算法。"]}),"\n",(0,t.jsx)(e.p,{children:"并在各个浏览器（Multi IE 6, IETester 5.5, IETester 6, IE 7, FF 3.5, Chrome 4,\r\nSafari 4, Opera 10）下一一测试。也欢迎各位参与测试并将结果提交给我，\r\n如果你觉得测试有不公平合理的地方也可以提出。"}),"\n",(0,t.jsxs)(e.p,{children:["至于结论，也不是那么好确定，不过大致如下：\r\n",(0,t.jsx)(e.code,{children:"Array.apply(this,arguments)"})," 在大部分情况下都能取得优胜；\r\n而Prototype和jQuery其次，不过这两者不仅仅是针对arguments编写而且是直接调用其函数\r\n（稍有消耗），这里只拿来比较一下，这两个还是非常出色的；\r\n",(0,t.jsx)(e.code,{children:"Array.prototype.slice.call(arguments)"})," 和 ",(0,t.jsx)(e.code,{children:"[].slice"}),".call(arguments)则旗鼓相当，\r\n并没有说谁比谁一定更强，更浏览器实现有关，在部分浏览器中前者有稳定的微量优势；\r\n至于老土的循环法，",(0,t.jsx)(e.code,{children:"arguments.length"})," 较小时表现不俗，较大时也更浏览器有关系。\r\n而怿飞说的那点（不确定的）非关键或巨大性能优势，其实意义不大。"]}),"\n",(0,t.jsxs)(e.h2,{id:"延伸阅读",children:["延伸阅读：",(0,t.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#延伸阅读",children:"#"})]}),"\n",(0,t.jsxs)(e.p,{children:["\\n ",(0,t.jsx)(e.a,{href:"javascript%5Cnregexp%5Cnconcat%5Cnand%5Cn0%5Cnlength%5Cnobject.html",children:"正则表达式拼接和构建零长度对象"}),"\r\n\\n ",(0,t.jsx)(e.a,{href:"javascript%5Cnstring.html",children:"Javascript String 方法效率大比拼"}),"\r\n\\n ",(0,t.jsx)(e.a,{href:"efficiency%5Cnof%5Cnjavascript%5Cnequals.html",children:"Javascript 相等符(==)与完全相等符(===)之效率"})]}),"\n",(0,t.jsxs)("footer",{class:"blog-post-footer",children:[(0,t.jsx)("div",{class:"blog-post-footer-meta meta-left",children:(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Tags:"})," ",(0,t.jsx)("a",{href:"/blog/tags/JavaScript",children:(0,t.jsx)("cite",{class:"tags",children:"JavaScript"})}),", ",(0,t.jsx)("a",{href:"/blog/tags/%E6%80%A7%E8%83%BD",children:(0,t.jsx)("cite",{class:"tags",children:"性能"})})]})}),(0,t.jsx)("div",{class:"blog-post-footer-meta meta-right",children:(0,t.jsxs)(e.p,{children:["Published on ",(0,t.jsx)("cite",{class:"date",children:"2010-01-07"})]})})]})]})}function c(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,s.ah)(),r.components);return e?(0,t.jsx)(e,{...r,children:(0,t.jsx)(a,{...r})}):a(r)}let l=c;c.__RSPRESS_PAGE_META={},c.__RSPRESS_PAGE_META["..%2Fnode_modules%2F.rspress%2Fruntime%2Ftemp-138.mdx"]={toc:[{text:"延伸阅读：",id:"延伸阅读",depth:2}],title:"arguments to Array 之效率",headingTitle:"arguments to Array 之效率",frontmatter:{category:null,tags:"JavaScript, 性能",date:"2010-01-07T00:00:00.000Z",sidebar:!1,footer:!1}}}}]);