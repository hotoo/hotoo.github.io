"use strict";(self.webpackChunkhotoo_co=self.webpackChunkhotoo_co||[]).push([["6905"],{2658:function(e,n,s){s.r(n),s.d(n,{default:()=>d});var r=s(4132),t=s(453),i=s(3030);function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",hr:"hr",ul:"ul",li:"li",img:"img",footer:"footer",div:"div",strong:"strong",cite:"cite"},(0,t.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.h1,{id:"每周异常第-1-期",children:["每周异常：第 1 期",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#每周异常第-1-期",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["2013-07-15 14:00~14:03，来自",(0,r.jsx)(n.a,{href:"https://www.ip.cn/?q=180.184.99.37",target:"_blank",rel:"noopener noreferrer",children:"北京市时代互联(180.184.99.37)"}),"\n的 pc/-1|windows/6.2|firefox/22.0|gecko/20100101 用户向支付宝 katongweb 系统发起1480次猛烈的总攻。"]}),"\n",(0,r.jsx)(n.p,{children:"详情如下："}),"\n",(0,r.jsxs)(n.table,{children:["\n",(0,r.jsxs)(n.thead,{children:["\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.th,{children:"KEY"}),"\n",(0,r.jsx)(n.th,{children:"VALUE"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.tbody,{children:["\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:"Ref"}),"\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"https://ref.example.com/ref.htm",target:"_blank",rel:"noopener noreferrer",children:"https://ref.example.com/ref.htm"})}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:"URL"}),"\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"https://www.example.com/index.htm",target:"_blank",rel:"noopener noreferrer",children:"https://www.example.com/index.htm"})}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:"File"}),"\n",(0,r.jsx)(n.td,{children:"chrome://grabword/content/grabword.js"}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:"Line"}),"\n",(0,r.jsx)(n.td,{children:"0"}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:"Message"}),"\n",(0,r.jsx)(n.td,{children:"Script error."}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:"stacktrace"}),"\n",(0,r.jsx)(n.td,{}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"该用户通过 Ref 页面到目标 URL 之后，连续不断的通过 Firefox 插件脚本触发脚本异常。"}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.p,{children:"通过最近的几次异常报警来看，由客户端连续发起攻击引起的 JavaScript 异常 PV\n非正常波动，对异常监控数据有比较大的影响。"}),"\n",(0,r.jsx)(n.p,{children:"因此考虑以下方案来提升监控数据的稳定有效性："}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"监控 JavaScript 异常 UV(根据 Session)"}),"\n",(0,r.jsx)(n.li,{children:"监控 JavaScript 异常独立 IP 数。"}),"\n",(0,r.jsxs)(n.li,{children:["排除客户端本地脚本引起的异常（多数攻击是由客户端脚本发起）","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"今日客户端脚本异常率：45.14%"}),"\n",(0,r.jsx)(n.li,{children:"正常情况下客户端脚本异常率：3.45%"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.p,{children:"下图是排除了客户端本地脚本抛出的异常之后的结果："}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://f.cloud.github.com/assets/143572/803190/d77e2dea-ede7-11e2-92cb-1717857ecdbc.png",alt:"2013-07-16 3 14 24"})}),"\n",(0,r.jsx)(n.p,{children:"（当天数据对比，图中圆点是开启过滤客户端本地异常的时间点，下同）"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://f.cloud.github.com/assets/143572/803189/d77f22cc-ede7-11e2-9412-25920ec1c4d6.png",alt:"2013-07-16 3 16 22"})}),"\n",(0,r.jsx)(n.p,{children:"（相近2天数据对比）"}),"\n",(0,r.jsxs)("footer",{class:"blog-post-footer",children:[(0,r.jsx)("div",{class:"blog-post-footer-meta meta-left",children:(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Tags:"})," ",(0,r.jsx)("a",{href:"/blog/tags/%E6%AF%8F%E5%91%A8%E5%BC%82%E5%B8%B8",children:(0,r.jsx)("cite",{class:"tags",children:"每周异常"})})]})}),(0,r.jsx)("div",{class:"blog-post-footer-meta meta-right",children:(0,r.jsxs)(n.p,{children:["Published on ",(0,r.jsx)("cite",{class:"date",children:"2013-07-15"})]})})]}),"\n",(0,r.jsx)(i.DiscussionEmbed,{shortname:"hotoo",config:{url:"https://hotoo.co/blog/post/weekly-topic-about-exceptions-1.html",identifier:"/blog/post/weekly-topic-about-exceptions-1.html",title:"每周异常：第 1 期",language:"zh_CN"}})]})}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,t.ah)(),e.components);return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}let d=c;c.__RSPRESS_PAGE_META={},c.__RSPRESS_PAGE_META["..%2Fnode_modules%2F.rspress%2Fruntime%2Ftemp-55.mdx"]={toc:[],title:"每周异常：第 1 期",headingTitle:"每周异常：第 1 期",frontmatter:{category:null,tags:"每周异常",date:"2013-07-15T00:00:00.000Z",sidebar:!1,footer:!1}}}}]);