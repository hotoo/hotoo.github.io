"use strict";(self.webpackChunkhotoo_github_io=self.webpackChunkhotoo_github_io||[]).push([["8777"],{58221:function(e,r,i){i.r(r),i.d(r,{default:()=>s});var n=i(74132),h=i(40453);function t(e){let r=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",del:"del",ol:"ol",li:"li",pre:"pre",code:"code"},(0,h.ah)(),e.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(r.h1,{id:"用-vimwiki-写博客",children:["用 Vimwiki 写博客",(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#用-vimwiki-写博客",children:"#"})]}),"\n",(0,n.jsxs)(r.p,{children:["由于众所周知的缘故，",(0,n.jsx)(r.a,{href:"https://blog.xianyun.org/",target:"_blank",rel:"noopener noreferrer",children:"我的博客"})," 被消失了。\r\n在国内买域名或主机都是十分不靠谱的事，所以目前没有重新开独立博客的打算。\r\n而使用第三方博客服务也同样不靠谱，目前只同步在 Google Blogger 上。"]}),"\n",(0,n.jsx)(r.p,{children:"把东西都放在自己的计算机里算是比较可靠的方式了，\r\n我计划使用 Vim + Vimwiki + Dropbox 来搭建自己的特殊博客系统。"}),"\n",(0,n.jsxs)(r.h2,{id:"原理",children:["原理",(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#原理",children:"#"})]}),"\n",(0,n.jsxs)(r.p,{children:["使用 Vim 这个极致的编辑器，加上 Vimwiki 这个优秀的插件，\r\n可以用 Wiki 语法来写日志，",(0,n.jsx)(r.del,{children:"1. 然后由 Dropbox 自动同步与发布，"}),"\r\n",(0,n.jsx)(r.del,{children:"2. 已经改为 SVN 提交到 Google Code（生成的 HTML 文件需要设置 svn:mime-type 为 text/html），"}),"\r\n3. 现在是用 Git 提交到 ",(0,n.jsx)(r.a,{href:"https://hotoo.github.com",target:"_blank",rel:"noopener noreferrer",children:"hotoo.github.com"}),"。\r\n整体上来说这个系统基本完好，~~除了域名稍稍缺憾之外，~~Github 支持绑定第三方域名。"]}),"\n",(0,n.jsxs)(r.h2,{id:"搭建步骤",children:["搭建步骤",(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#搭建步骤",children:"#"})]}),"\n",(0,n.jsxs)(r.p,{children:["如果你看过 ",(0,n.jsx)(r.a,{href:"https://code.google.com/p/vim-script-cn/",target:"_blank",rel:"noopener noreferrer",children:"Vim Script 文档中文计划"}),"\r\n的介绍，下面有写内容大概已经熟悉，这里作为完整的技巧一并介绍："]}),"\n",(0,n.jsxs)(r.ol,{children:["\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsxs)(r.p,{children:["确认正确安装了 ",(0,n.jsx)(r.a,{href:"https://www.vim.org",target:"_blank",rel:"noopener noreferrer",children:"Vim"})," 和\r\n",(0,n.jsx)(r.a,{href:"https://www.vim.org/scripts/script.php?script_id=2226",target:"_blank",rel:"noopener noreferrer",children:"Vimwiki"}),"。"]}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsxs)(r.p,{children:["如果安装了 ",(0,n.jsx)(r.a,{href:"https://www.vim.org/scripts/script.php?script_id=2540",target:"_blank",rel:"noopener noreferrer",children:"snipMate"}),"\r\n在 $VIM/vimfiles/snippets/ 下新建一个 vimwiki.snippets 文件（已有则打开文件）。\r\n在 vimwiki.snippets 中添加自己的博客格式模板，例如我的："]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:' snippet blog\r\n     %\\title $1 (注意："title" 前面的 "\\" 去掉)\r\n\r\n     = ${1:title} =\r\n     ${2:content}\r\n\r\n      blog:datetime=`strftime("%Y/%m/%d %H:%M:%S")`:tags=${3}\n'})}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsxs)(r.p,{children:["因为 Vimwiki 和 snipMate 的 ",(0,n.jsx)(r.code,{children:"<Tab>"})," 热键冲突，\r\n可以将 $VIM/vimfiles/ftplugin/vimwiki.vim 中的"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:" inoremap <expr> <buffer> <Tab> vimwiki_tbl#kbd_tab()\n"})}),"\n",(0,n.jsx)(r.p,{children:"换成其他的热键，例如："}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:" inoremap <expr> <buffer> <C-Tab> vimwiki_tbl#kbd_tab()\n"})}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsxs)(r.p,{children:["到此，在 .wiki 文件中输入 ",(0,n.jsx)(r.code,{children:"blog<Tab>"})," 就展开博客模板了。"]}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsxs)(r.p,{children:["在 vimrc 的 ",(0,n.jsx)(r.code,{children:"g:vimwiki_list"})," 中加入一个 wiki，例如我的："]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:" let g:vimwiki_list = [\r\n     \\ {...},\r\n     \\ {...},\r\n     \\ {...},\r\n     \\ {\r\n         \\ 'path'        : 'D:\\My Dropbox\\blog',\r\n       \" \\ 'path_html'   : 'D:\\My Dropbox\\Public\\blog',\r\n       \" \\ 'path_html'   : 'D:\\wrokbench\\hotoo.googlecode.com\\blog',\r\n         \\ 'path_html'   : 'D:\\wrokbench\\hotoo.github.com\\blog',\r\n         \\ 'html_header' : 'D:\\My Dropbox\\blog\\template\\header.tpl',\r\n         \\ 'html_footer' : 'D:\\My Dropbox\\blog\\template\\footer.tpl'\r\n     \\ }\r\n \\ ]\n"})}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(r.h2,{id:"技巧",children:["技巧",(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#技巧",children:"#"})]}),"\n",(0,n.jsxs)(r.p,{children:["这样我使用 ",(0,n.jsx)(r.code,{children:"4<leader>ww"}),"(一般是",(0,n.jsx)(r.code,{children:"4\\ww"}),") 就可以快速启动博客 Wiki 首页并进行编辑了。\r\nWiki 文件保存在 Dropbox 私有目录下，生成的 html 文件保存在公开目录。"]}),"\n",(0,n.jsxs)(r.p,{children:["草稿日志的 Wiki 文件中加入 ",(0,n.jsx)(r.code,{children:"%nohtml"})," 不转成 HTML，索引页用 HTML 注释\r\n",(0,n.jsx)(r.code,{children:"< !-- --\x3e"})," （去掉 ! 前面的空格）就可以了。写好想发布时，\r\n修改对应代码并 ",(0,n.jsx)(r.code,{children:":Vimwiki2HTML"})," 即可。"]}),"\n",(0,n.jsxs)(r.h2,{id:"模板",children:["模板",(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#模板",children:"#"})]}),"\n",(0,n.jsxs)(r.p,{children:["可以直接查看源码得到，或者这里 ",(0,n.jsx)(r.a,{href:"https://dl.dropbox.com/u/1151037/dl/vimwiki/wiki.template.zip",target:"_blank",rel:"noopener noreferrer",children:"下载"}),"。"]}),"\n",(0,n.jsxs)(r.h2,{id:"评论系统",children:["评论系统",(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#评论系统",children:"#"})]}),"\n",(0,n.jsxs)(r.p,{children:["可以使用 ",(0,n.jsx)(r.a,{href:"https://disqus.com/",target:"_blank",rel:"noopener noreferrer",children:"disq.us"}),"。"]}),"\n",(0,n.jsxs)(r.h2,{id:"搜索",children:["搜索",(0,n.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#搜索",children:"#"})]}),"\n",(0,n.jsxs)(r.p,{children:["使用 Google AJAX Search API，详细可以参考老肥博客的\r\n",(0,n.jsx)(r.a,{href:"https://fis.io/ajax-google-custom-search-engine.html",target:"_blank",rel:"noopener noreferrer",children:"打造完美的 ajax 版 Google 自定义搜索"})]})]})}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:r}=Object.assign({},(0,h.ah)(),e.components);return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(t,{...e})}):t(e)}let s=l;l.__RSPRESS_PAGE_META={},l.__RSPRESS_PAGE_META["blog%2Fpost%2F2010%2Fuse-vimwiki-for-blog.md"]={toc:[{text:"原理",id:"原理",depth:2},{text:"搭建步骤",id:"搭建步骤",depth:2},{text:"技巧",id:"技巧",depth:2},{text:"模板",id:"模板",depth:2},{text:"评论系统",id:"评论系统",depth:2},{text:"搜索",id:"搜索",depth:2}],title:"用 Vimwiki 写博客",headingTitle:"用 Vimwiki 写博客",frontmatter:{date:"2010-03-29T00:00:00.000Z",tags:"Vim, Vimwiki, Dropbox, Blog"}}}}]);