"use strict";(self.webpackChunkhotoo_github_io=self.webpackChunkhotoo_github_io||[]).push([["3991"],{78995:function(n,e,i){i.r(e),i.d(e,{default:()=>c});var s=i(74132),r=i(40453);function d(n){let e=Object.assign({h1:"h1",a:"a",h2:"h2",ol:"ol",li:"li",p:"p",code:"code",pre:"pre",ul:"ul"},(0,r.ah)(),n.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(e.h1,{id:"使用-macvim-做-svn-diff",children:["使用 MacVim 做 svn diff",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#使用-macvim-做-svn-diff",children:"#"})]}),"\n",(0,s.jsxs)(e.h2,{id:"对于终端的-vim",children:["对于终端的 vim",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#对于终端的-vim",children:"#"})]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.code,{children:"~/.subversion/config"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"[helpers]\ndiff-cmd = /usr/local/bin/svndiff\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"\xa0"}),"\n",(0,s.jsxs)(e.ol,{start:"2",children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"将下面的代码保存为 svndiff："}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:'#!/bin/sh\n\nDIFF="/usr/bin/vimdiff"\nLEFT=${6}\nRIGHT=${7}\n$DIFF $LEFT $RIGHT\n'})}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["拷贝到 ",(0,s.jsx)(e.code,{children:"/usr/local/bin/svndiff"})," 并设置权限："]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"sudo chmod +a /usr/local/bin/svndiff\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.h2,{id:"对于-macvim",children:["对于 MacVim",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#对于-macvim",children:"#"})]}),"\n",(0,s.jsxs)(e.p,{children:["修改 ",(0,s.jsx)(e.code,{children:"/usr/local/bin/svndiff"})," 内容如下："]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:'#!/bin/bash\n\nLEFT=${6}\nRIGHT=${7}\nTMPLEFT="/tmp/${LEFT##*/}.$$"\nTMPRIGHT="/tmp/${RIGHT##*/}.$$"\n\ncp "$LEFT" "$TMPLEFT"\ncp "$RIGHT" "$TMPRIGHT"\n\nmvim --servername SVNDIFF --remote-tab-silent +"vertical diffsplit $TMPLEFT|wincmd w" "$TMPRIGHT"\nsleep 0.1\n\nSN=`mvim --serverlist | grep "SVNDIFF"`\nuntil [ "$SN" == "SVNDIFF" ]; do\n  sleep 0.1\n  SN=`mvim --serverlist | grep "SVNDIFF"`\ndone\n\nrm -f "$TMPLEFT" "$TMPRIGHT"\n'})}),"\n",(0,s.jsx)(e.p,{children:"之前尝试过修改终端方案中的"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:'DIFF="/usr/bin/vimdiff"\n'})}),"\n",(0,s.jsx)(e.p,{children:"为："}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:'DIFF="gvim -d"\n'})}),"\n",(0,s.jsx)(e.p,{children:"未遂，右侧的代码会为空。"}),"\n",(0,s.jsxs)(e.h2,{id:"see-also",children:["See Also",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#see-also",children:"#"})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"http://twitter.com/ntakushima/statuses/27518378028",target:"_blank",rel:"noopener noreferrer",children:"svn diffの結果をMacVimで。"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://gist.github.com/629457",target:"_blank",rel:"noopener noreferrer",children:"diffwrap.sh"})}),"\n"]}),"\n"]}),"\n"]})]})}function l(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,r.ah)(),n.components);return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(d,{...n})}):d(n)}let c=l;l.__RSPRESS_PAGE_META={},l.__RSPRESS_PAGE_META["blog%2Fpost%2F2012%2Fmacvim-svndiff.md"]={toc:[{text:"对于终端的 vim",id:"对于终端的-vim",depth:2},{text:"对于 MacVim",id:"对于-macvim",depth:2},{text:"See Also",id:"see-also",depth:2}],title:"使用 MacVim 做 svn diff",headingTitle:"使用 MacVim 做 svn diff",frontmatter:[{template:"post.html"},{date:"2012-10-31T00:00:00.000Z"},{tags:"MacVim, Vim, SVN"}]}}}]);