<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="Rspress v1.45.8">
    <meta name="keyword"content="闲耘, hotoo, xianyun, 个人网站, 博客, blog, rspress, pinyin, gitopen, markline, obsidian"><title data-rh="true">Form 表单最佳实践 - 闲耘小站</title><meta data-rh="true" name="description" content="闲耘的个人网站和博客"/>
  <script>{;const saved = localStorage.getItem('rspress-theme-appearance');const preferDark = window.matchMedia('(prefers-color-scheme: dark)').matches;const isDark = !saved || saved === 'auto' ? preferDark : saved === 'dark';document.documentElement.classList.toggle('dark', isDark);document.documentElement.style.colorScheme = isDark ? 'dark' : 'light';}</script><link rel="icon" href="/xianyun.png"><script defer src="/static/js/styles.635f2054.js"></script><script defer src="/static/js/lib-react.442f38df.js"></script><script defer src="/static/js/lib-router.53ff1cf6.js"></script><script defer src="/static/js/8266.58966f52.js"></script><script defer src="/static/js/index.8a32cd8f.js"></script><link href="/static/css/styles.6baecde0.css" rel="stylesheet"><script async src="https://www.googletagmanager.com/gtag/js?id=G-DNVHC57TGF"></script><script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-DNVHC57TGF');</script><link rel="stylesheet" href="/styles/global.css"></head>

  <body >
    <div id="root"><link rel="preload" as="image" href="/images/xianyun.png"/><div class="navContainer_d18b1 rspress-nav px-6  sticky_ddfa7"><div class="container_e4235 flex justify-between items-center h-full"><div class="navBarTitle_c5f07"><a href="/index.html" class="link_a7cea flex items-center w-full h-full text-base font-semibold transition-opacity duration-300 hover:opacity-60"><div class="mr-1 min-w-8"><img src="/images/xianyun.png" alt="logo" id="logo" class="rspress-logo dark:hidden"/><img src="/images/xianyun.png" alt="logo" id="logo" class="rspress-logo hidden dark:block"/></div><span>闲耘</span></a></div><div class="flex flex-1 justify-end items-center"><div class="leftNav_e6722"><div class="rspress-nav-menu menu h-14"><a href="/index.html" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154  text-sm font-medium mx-1.5 px-3 py-2 flex items-center break-keep">首页</div></a><a href="/blog/index.html" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154 activeItem_a28b5 text-sm font-medium mx-1.5 px-3 py-2 flex items-center break-keep">博客</div></a><a href="/project/index.html" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154  text-sm font-medium mx-1.5 px-3 py-2 flex items-center break-keep">项目</div></a><a href="/about/index.html" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154  text-sm font-medium mx-1.5 px-3 py-2 flex items-center break-keep">关于</div></a></div></div><div class="rightNav_a2fea"><div class="flex sm:flex-1 items-center sm:pl-4 sm:pr-2"><div class="rspress-nav-search-button navSearchButton_df1fb"><button><svg width="18" height="18" viewBox="0 0 32 32"><path fill="var(--rp-c-gray)" d="m29 27.586-7.552-7.552a11.018 11.018 0 1 0-1.414 1.414L27.586 29ZM4 13a9 9 0 1 1 9 9 9.01 9.01 0 0 1-9-9"></path></svg><p class="searchWord_af2c1">Search</p><div style="opacity:0"><span></span><span>K</span></div></button></div><div class="mobileNavSearchButton_d85a9"><svg width="24" height="24" viewBox="0 0 32 32"><path fill="var(--rp-c-gray)" d="m29 27.586-7.552-7.552a11.018 11.018 0 1 0-1.414 1.414L27.586 29ZM4 13a9 9 0 1 1 9 9 9.01 9.01 0 0 1-9-9"></path></svg></div></div><div class="rspress-nav-menu menu h-14"></div><div class="flex-center flex-row"><div class="mx-2"><div class="md:mr-2 rspress-nav-appearance"><div class="p-1 border border-solid border-gray-300 text-gray-400  cursor-pointer rounded-md hover:border-gray-600 hover:text-gray-600 dark:hover:border-gray-200 dark:hover:text-gray-200 transition-all duration-300 w-7 h-7"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 24 24" class="dark:hidden" width="18" height="18" fill="currentColor"><path d="M12 18c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6m0-10c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4M12 4c-.6 0-1-.4-1-1V1c0-.6.4-1 1-1s1 .4 1 1v2c0 .6-.4 1-1 1M12 24c-.6 0-1-.4-1-1v-2c0-.6.4-1 1-1s1 .4 1 1v2c0 .6-.4 1-1 1M5.6 6.6c-.3 0-.5-.1-.7-.3L3.5 4.9c-.4-.4-.4-1 0-1.4s1-.4 1.4 0l1.4 1.4c.4.4.4 1 0 1.4-.1.2-.4.3-.7.3M19.8 20.8c-.3 0-.5-.1-.7-.3l-1.4-1.4c-.4-.4-.4-1 0-1.4s1-.4 1.4 0l1.4 1.4c.4.4.4 1 0 1.4-.2.2-.5.3-.7.3M3 13H1c-.6 0-1-.4-1-1s.4-1 1-1h2c.6 0 1 .4 1 1s-.4 1-1 1M23 13h-2c-.6 0-1-.4-1-1s.4-1 1-1h2c.6 0 1 .4 1 1s-.4 1-1 1M4.2 20.8c-.3 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.4l1.4-1.4c.4-.4 1-.4 1.4 0s.4 1 0 1.4l-1.4 1.4c-.2.2-.4.3-.7.3M18.4 6.6c-.3 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.4l1.4-1.4c.4-.4 1-.4 1.4 0s.4 1 0 1.4l-1.4 1.4c-.2.2-.5.3-.7.3"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 24 24" class="hidden dark:block" width="18" height="18" fill="currentColor"><path d="M12.1 22h-.9c-5.5-.5-9.5-5.4-9-10.9.4-4.8 4.2-8.6 9-9 .4 0 .8.2 1 .5s.2.8-.1 1.1c-2 2.7-1.4 6.4 1.3 8.4 2.1 1.6 5 1.6 7.1 0 .3-.2.7-.3 1.1-.1.3.2.5.6.5 1-.2 2.7-1.5 5.1-3.6 6.8-1.9 1.4-4.1 2.2-6.4 2.2M9.3 4.4c-2.9 1-5 3.6-5.2 6.8-.4 4.4 2.8 8.3 7.2 8.7 2.1.2 4.2-.4 5.8-1.8 1.1-.9 1.9-2.1 2.4-3.4-2.5.9-5.3.5-7.5-1.1-2.8-2.2-3.9-5.9-2.7-9.2"></path></svg></div></div></div><div class="social-links menu-item_e90a6 flex-center relative"><div class="flex-center h-full gap-x-4 transition-colors duration-300 md:mr-2"><a href="https://x.com/hotoo" target="_blank" rel="noopener noreferrer" class="social-links"><div class="social-links-icon_a4ad0"><div><svg xmlns="http://www.w3.org/2000/svg" width="100%" viewBox="0 0 24 24"><path fill="currentColor" d="M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584l-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"/></svg></div></div></a><a href="https://github.com/hotoo" target="_blank" rel="noopener noreferrer" class="social-links"><div class="social-links-icon_a4ad0"><div><svg xmlns="http://www.w3.org/2000/svg" width="100%" viewBox="0 0 24 24"><path fill="currentColor" d="M12 .297c-6.63 0-12 5.373-12 12c0 5.303 3.438 9.8 8.205 11.385c.6.113.82-.258.82-.577c0-.285-.01-1.04-.015-2.04c-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729c1.205.084 1.838 1.236 1.838 1.236c1.07 1.835 2.809 1.305 3.495.998c.108-.776.417-1.305.76-1.605c-2.665-.3-5.466-1.332-5.466-5.93c0-1.31.465-2.38 1.235-3.22c-.135-.303-.54-1.523.105-3.176c0 0 1.005-.322 3.3 1.23c.96-.267 1.98-.399 3-.405c1.02.006 2.04.138 3 .405c2.28-1.552 3.285-1.23 3.285-1.23c.645 1.653.24 2.873.12 3.176c.765.84 1.23 1.91 1.23 3.22c0 4.61-2.805 5.625-5.475 5.92c.42.36.81 1.096.81 2.22c0 1.606-.015 2.896-.015 3.286c0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></div></div></a></div></div></div></div><div class="mobileNavMenu_e7045"><div class="navScreen_ec30c  rspress-nav-screen" id="navScreen"><div class="container_c935d"><div class="navMenu_b887b"><div class="navMenuItem_e7978 w-full"><a href="/index.html" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154  text-sm font-medium mx-1.5 px-3 py-2 flex items-center break-keep">首页</div></a></div><div class="navMenuItem_e7978 w-full"><a href="/blog/index.html" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154 activeItem_a28b5 text-sm font-medium mx-1.5 px-3 py-2 flex items-center break-keep">博客</div></a></div><div class="navMenuItem_e7978 w-full"><a href="/project/index.html" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154  text-sm font-medium mx-1.5 px-3 py-2 flex items-center break-keep">项目</div></a></div><div class="navMenuItem_e7978 w-full"><a href="/about/index.html" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154  text-sm font-medium mx-1.5 px-3 py-2 flex items-center break-keep">关于</div></a></div></div><div class="flex-center flex-col gap-2"><div class="mt-2 navAppearance_bf893 flex justify-center"></div><div class="social-links menu-item_e90a6 flex-center relative"><div class="flex-center h-full gap-x-4 transition-colors duration-300 md:mr-2"><a href="https://x.com/hotoo" target="_blank" rel="noopener noreferrer" class="social-links"><div class="social-links-icon_a4ad0"><div><svg xmlns="http://www.w3.org/2000/svg" width="100%" viewBox="0 0 24 24"><path fill="currentColor" d="M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584l-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"/></svg></div></div></a><a href="https://github.com/hotoo" target="_blank" rel="noopener noreferrer" class="social-links"><div class="social-links-icon_a4ad0"><div><svg xmlns="http://www.w3.org/2000/svg" width="100%" viewBox="0 0 24 24"><path fill="currentColor" d="M12 .297c-6.63 0-12 5.373-12 12c0 5.303 3.438 9.8 8.205 11.385c.6.113.82-.258.82-.577c0-.285-.01-1.04-.015-2.04c-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729c1.205.084 1.838 1.236 1.838 1.236c1.07 1.835 2.809 1.305 3.495.998c.108-.776.417-1.305.76-1.605c-2.665-.3-5.466-1.332-5.466-5.93c0-1.31.465-2.38 1.235-3.22c-.135-.303-.54-1.523.105-3.176c0 0 1.005-.322 3.3 1.23c.96-.267 1.98-.399 3-.405c1.02.006 2.04.138 3 .405c2.28-1.552 3.285-1.23 3.285-1.23c.645 1.653.24 2.873.12 3.176c.765.84 1.23 1.91 1.23 3.22c0 4.61-2.805 5.625-5.475 5.92c.42.36.81 1.096.81 2.22c0 1.606-.015 2.896-.015 3.286c0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></div></div></a></div></div></div></div></div><button aria-label="mobile hamburger" class=" rspress-mobile-hamburger navHamburger_ac64c text-gray-500"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="currentColor"><circle cx="8" cy="16" r="2" fill="currentColor"></circle><circle cx="16" cy="16" r="2" fill="currentColor"></circle><circle cx="24" cy="16" r="2" fill="currentColor"></circle></svg></button></div></div></div></div><section><div class="docLayout_af141 pt-0"><div class="flex-1 relative min-w-0"><div class="rspress-sidebar-menu-container "><div class="rspress-sidebar-menu"><button type="button" class="flex-center ml-auto"><span class="text-sm">ON THIS PAGE</span><div class="text-md mr-2" style="transform:rotate(0deg);transition:transform 0.2s ease-out;margin-top:2px"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></button><div class="rspress-local-toc-container "><ul><li><a href="#前言" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:0"><span class="rspress-toc-link-text block">前言</span></a></li><li><a href="#post--get" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:0"><span class="rspress-toc-link-text block">POST &amp; GET</span></a></li><li><a href="#get" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">GET:</span></a></li><li><a href="#post" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">POST:</span></a></li><li><a href="#编码encoding" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:0"><span class="rspress-toc-link-text block">编码(Encoding)</span></a></li><li><a href="#onsubmit" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:0"><span class="rspress-toc-link-text block">onsubmit</span></a></li><li><a href="#普通提交数据的表单" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:0"><span class="rspress-toc-link-text block">普通提交数据的表单</span></a></li><li><a href="#多个提交按钮的表单" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:0"><span class="rspress-toc-link-text block">多个提交按钮的表单</span></a></li><li><a href="#多个相同操作的表单" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:0"><span class="rspress-toc-link-text block">多个相同操作的表单</span></a></li><li><a href="#搜索" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:0"><span class="rspress-toc-link-text block">搜索</span></a></li><li><a href="#可爱的陋习" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:0"><span class="rspress-toc-link-text block">可爱的陋习</span></a></li><li><a href="#demo" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:0"><span class="rspress-toc-link-text block">Demo</span></a></li></ul></div></div></div><div class="content_ff766 rspress-doc-container flex"><div class="flex-1 overflow-x-auto"><div class="rspress-doc"><!--$--><h1 id="form-表单最佳实践" class="rspress-doc-title text-3xl mb-10 leading-10 tracking-tight title_fb7eb">Form 表单最佳实践<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#form-表单最佳实践">#</a></h1>
<h2 id="前言" class="mt-12 mb-6 pt-8 text-2xl tracking-tight border-t-[1px] border-divider-light title_fb7eb">前言<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#前言">#</a></h2>
<p class="my-4 leading-7">这份文档献给我身边某些可爱的 Java 工程师，感谢你们激怒了我 :)</p>
<p class="my-4 leading-7">“Form 表单”其实是一种错误的叫法，Form 本身就是表单，不过这样叫似乎比较顺口。</p>
<p class="my-4 leading-7">这里所谓的“最佳实践”只是标题党。</p>
<h2 id="post--get" class="mt-12 mb-6 pt-8 text-2xl tracking-tight border-t-[1px] border-divider-light title_fb7eb">POST &amp; GET<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#post--get">#</a></h2>
<p class="my-4 leading-7">表单有一般使用 POST 或 GET 方式提交数据到服务器端，如果你理解这两个词，这里就
不再赘述了；如果不理解，那也没什么好讲的，就以下面通俗的“所见即所得”理解吧。</p>
<h3 id="get" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">GET:<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#get">#</a></h3>
<p class="my-4 leading-7">所谓 GET 方式，通俗的讲，就是地址栏可见所有提交的信息：</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><code>&lt;form action=&quot;http://example.com/get.htm&quot; method=&quot;get&quot;&gt;
    &lt;input type=&quot;text&quot; name=&quot;key&quot; value=&quot;value&quot; /&gt;
    &lt;input type=&quot;submit&quot; name=&quot;search&quot; value=&quot;搜索&quot; /&gt;
&lt;/form&gt;
</code></div></div>
<p class="my-4 leading-7">这个表单提交之后，地址栏就包含了所有的提交信息：
<code>http://example.com/get.html?key=value&amp;search=%CB%D1%CB%F7</code></p>
<p class="my-4 leading-7">可以直接在地址栏修改：
action: 即 <code>http://example.com/get.html</code> 部分。
data/param: 即 key=value&amp;search=%CB%D1%CB%F7 这些参数部分。</p>
<p class="my-4 leading-7">广义上，通俗的讲，包括地址栏上手写并回车，点击链接，或者 method=&quot;get&quot; 的表单，
以及通过 AJAX get 提交的都是 get 方式。get 请求，刷新时还是 get 请求。</p>
<h3 id="post" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">POST:<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#post">#</a></h3>
<p class="my-4 leading-7">通俗的讲，POST 就是地址栏看不到提交请求所带的数据（又称为“参数”）。</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><code>&lt;form action=&quot;http://example.com/post.html&quot; method=&quot;post&quot;&gt;
    &lt;input type=&quot;text&quot; name=&quot;data&quot; /&gt;
    &lt;input type=&quot;submit&quot; value=&quot;提交&quot;&gt;
&lt;/form&gt;
</code></div></div>
<p class="my-4 leading-7">这个表单提交之后，地址栏除了 <code>http://example.com/post.html</code> 外不包含其他信息。</p>
<p class="my-4 leading-7">广义上，通俗的讲，method=&quot;post&quot; 的表单，AJAX post 都是 post 方式。
post 提交后，刷新仍是 post 提交相同的数据。</p>
<h2 id="编码encoding" class="mt-12 mb-6 pt-8 text-2xl tracking-tight border-t-[1px] border-divider-light title_fb7eb">编码(Encoding)<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#编码encoding">#</a></h2>
<p class="my-4 leading-7">在客户端页面和服务器端程序编码不同时，提交数据非常容易出现编码问题，即所谓的
“乱码”。</p>
<p class="my-4 leading-7">解决这个问题，可以多种方式：</p>
<ol class="list-decimal pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">最根本的，就是统一客户端和服务器端的编码。建议都使用 utf-8。<!-- -->
目前服务器上均是使用 utf-8 接受数据，所以可以考虑统一使用 utf-8 编码，
要做的有一下几点：</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">修改页面的 charset 设置</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">.vm 文件本身保存为 utf-8 编码。</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">修改编码设置：
milan-web-base-2.0-SNAPSHOT.jar\META-INF\webx\pipeline.xml</p>
<p class="my-4 leading-7"></p>
</li>
</ul>
<p class="my-4 leading-7">milan-web-base-2.0-SNAPSHOT.jar\META-INF\webx\webx-default.xml</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><code> &lt;service name=&quot;VelocityService&quot;
     class=&quot;com.example.service.velocity.DefaultVelocityService&quot; earlyInit=&quot;true&quot;&gt;

     &lt;property name=&quot;input.encoding&quot; value=&quot;UTF-8&quot;/&gt;
     &lt;property name=&quot;parser.pool.size&quot; value=&quot;100&quot;/&gt;
     &lt;property name=&quot;velocimacro.library&quot; value=&quot;macros.vm&quot;/&gt;
 &lt;/service&gt;
</code></div></div>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">设置 form 元素的 accept-charset 属性为服务器接收数据使用的编码。<!-- -->
Hack in IE: <code>onsubmit=&quot;document.charset=&#x27;utf-8&#x27;;&quot;</code></p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">通过 JavaScript 的 <code>encodeURIComponent(key)</code> 函数转码，一般用于 AJAX 提交。<!-- -->
另有两个转码函数：<code>escape()</code>, <code>encodeURI()</code>
解码函数分别是：<code>unescape()</code>, <code>decodeURI()</code>, <code>decodeURIComponent()</code></p>
</li>
</ol>
<h2 id="onsubmit" class="mt-12 mb-6 pt-8 text-2xl tracking-tight border-t-[1px] border-divider-light title_fb7eb">onsubmit<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#onsubmit">#</a></h2>
<p class="my-4 leading-7">Form 表单的 onsubmit 事件在表单真正向服务器发送请求之前执行，一般用于验证表单
的数据完整性和合法性。如果处理函数返回 false，则不向服务器发送请求。</p>
<p class="my-4 leading-7">绑定 onsubmit 事件处理函数的方法有 3 种：</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">一般简单的页面，直接在 form 标签中添加 onsubmit 属性:
<code>&lt;form onsubmit=&quot;return validater(this);&quot;&gt;...&lt;/form&gt;</code></p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">按照“内容与行为分离”的思想，我们一般可以在 JavaScript 加载完成后对表单进行
事件绑定：</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><code>//var form = document.getElementById(&quot;formId&quot;);
form.onsubmit = function(){
    if(ie){document.charset=&quot;utf-8&quot;;}
    return !!this[&quot;k&quot;].value;
};
</code></div></div>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">更专业的事件绑定方法（考虑到兼容性问题，这里使用 jQuery 代码）：</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><code>$(&quot;#formId&quot;).submit(function(){
    return this.k.value;
});
</code></div></div>
</li>
</ul>
<h2 id="普通提交数据的表单" class="mt-12 mb-6 pt-8 text-2xl tracking-tight border-t-[1px] border-divider-light title_fb7eb">普通提交数据的表单<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#普通提交数据的表单">#</a></h2>
<p class="my-4 leading-7">对于普通提交数据的表单，比如新增、修改数据，使用 POST 方式提交数据即可。
删除的方式一般有两种：</p>
<ol class="list-decimal pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">删除链接的 href 指向执行删除操作的地址，链接元素绑定 onclick 事件：
<code>&lt;a href=&quot;del.html?id=1&quot; onclick=&quot;return window.confirm(&#x27;确认删除？&#x27;);&quot;&gt;</code>
这是 GET 提交方式。绑定事件处理函数的技巧同上面的 onsubmit。</li>
<li class="[&amp;:not(:first-child)]:mt-2">绑定 onclick 事件，并执行 AJAX 提交， return false；回调函数中可以使用动态
更新 DOM 的方式或其他。</li>
</ol>
<p class="my-4 leading-7">呃，其实最好体验也许是：删除操作时不要求确认（弹出确认对话框），但在事后可以
执行 <a href="/cancel-vs-undo.html" class="link_a7cea  link_a9ef4 inline-link_f855c">撤销</a> 删除操作。</p>
<h2 id="多个提交按钮的表单" class="mt-12 mb-6 pt-8 text-2xl tracking-tight border-t-[1px] border-divider-light title_fb7eb">多个提交按钮的表单<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#多个提交按钮的表单">#</a></h2>
<p class="my-4 leading-7">某些时候，单个表单中可能存在 2 个及其以上的提交按钮。</p>
<p class="my-4 leading-7">首先，考虑清楚这多个按钮是否真的都需要向服务器提交数据。像关闭，返回，后退，
或者失传已久的重置操作，就不要使用按钮了，至少不要使用绑定 onclick 并</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><code>form.action = &quot;back.html&quot;;
form.submit()
</code></div></div>
<p class="my-4 leading-7">或 <code>location.href=&quot;back.html&quot;</code> 这样的按钮。</p>
<p class="my-4 leading-7">这些按钮在实践上使用链接来实现更好更简单：<code>&lt;a href=&quot;back.html&quot;&gt;后退&lt;/a&gt;</code></p>
<p class="my-4 leading-7">对于确实需要多个提交操作的按钮，可以通过提交按钮的 name 来区分。</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><code>&lt;input type=&quot;submit&quot; name=&quot;event_submit_do_publish&quot; value=&quot;发布&quot; /&gt;
&lt;input type=&quot;submit&quot; name=&quot;event_submit_do_draft&quot; value=&quot;保存为草稿&quot; /&gt;
</code></div></div>
<h2 id="多个相同操作的表单" class="mt-12 mb-6 pt-8 text-2xl tracking-tight border-t-[1px] border-divider-light title_fb7eb">多个相同操作的表单<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#多个相同操作的表单">#</a></h2>
<p class="my-4 leading-7">类似于搜索引擎结果页，页面上、下均有功能相同的搜索框（为方便用户使用，虽然
实际受惠的用户可能并不多），这两个搜索框分别由两个表单组成，但是可以统一使用
同一个 onsubmit 事件处理函数。</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><code>&lt;form onsubmit=&quot;return validater(this);&quot;&gt;
    &lt;input type=&quot;text&quot; name=&quot;k&quot; /&gt;
    &lt;input type=&quot;submit&quot; value=&quot;搜索&quot; /&gt;
&lt;/form&gt;

搜索结果列表...

&lt;form onsubmit=&quot;return validater(this);&quot;&gt;
    &lt;input type=&quot;text&quot; name=&quot;k&quot; /&gt;
    &lt;input type=&quot;submit&quot; value=&quot;搜索&quot; /&gt;
&lt;/form&gt;

function validater(form){
    return form[&quot;k&quot;].value;
}
</code></div></div>
<h2 id="搜索" class="mt-12 mb-6 pt-8 text-2xl tracking-tight border-t-[1px] border-divider-light title_fb7eb">搜索<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#搜索">#</a></h2>
<p class="my-4 leading-7">搜索建议使用 GET 方式提交，过滤参数和当前页码这些信息全部带在地址中。
<code>http://example.com/search.html?k=keywrod</code></p>
<p class="my-4 leading-7">翻页链接（上一页，下一页...）
<code>http://example.com/search.html?k=keywrod&amp;p=2</code></p>
<p class="my-4 leading-7">翻页系统一般还允许用户手动输入页码并直接跳转到指定页，这个翻页表单建议和
搜索表单分离，分别是不同的 form 组成。</p>
<p class="my-4 leading-7">下面是搜索关键字 key 并翻页到第 2 页之后的状态：</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><code>&lt;form action=&quot;search.html&quot; method=&quot;get&quot;&gt;
    &lt;input type=&quot;text&quot; name=&quot;k&quot; value=&quot;key&quot; /&gt;
    &lt;input type=&quot;submit&quot; value=&quot;搜索&quot; /&gt;
&lt;/form&gt;

搜索结果列表...

&lt;a href=&quot;search.html?k=key&amp;p=1&quot;&gt;上一页&lt;/a&gt;
&lt;a href=&quot;search.html?k=key&amp;p=3&quot;&gt;下一页&lt;/a&gt;
&lt;form action=&quot;search.html&quot; method=&quot;get&quot;&gt;
    &lt;input type=&quot;hidden&quot; name=&quot;k&quot; value=&quot;key&quot; /&gt;
    &lt;input type=&quot;text&quot; name=&quot;p&quot; value=&quot;3&quot; /&gt;
    &lt;input type=&quot;submit&quot; value=&quot;翻页&quot; /&gt;
&lt;/form&gt;
</code></div></div>
<h2 id="可爱的陋习" class="mt-12 mb-6 pt-8 text-2xl tracking-tight border-t-[1px] border-divider-light title_fb7eb">可爱的陋习<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#可爱的陋习">#</a></h2>
<p class="my-4 leading-7">不要在表单中为 button 类型的按钮绑定 onclick 事件，并在事件处理函数中执行
<code>form.submit();</code> ，然后费尽心思实现“在输入框中也可以回车提交”这种蠢事。</p>
<p class="my-4 leading-7">也不要为了<del>解决</del>避免编码问题而在 onsubmit 处理函数中做
<code>input.value=encodeURIComponent(input.value);</code>，然后为了避免这个带来的
“乱码(被编码的字符)瞬间出现在表单中”而把搜索框做成隐藏域，再附加一个傀儡
输入框用于输入。</p>
<h2 id="demo" class="mt-12 mb-6 pt-8 text-2xl tracking-tight border-t-[1px] border-divider-light title_fb7eb">Demo<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#demo">#</a></h2>
<p class="my-4 leading-7"><a href="http://hotoo.me/labs/form-search.html%7C" target="_blank" rel="noopener noreferrer" class="link_a7cea  link_a9ef4 inline-link_f855c">搜索表单演示</a></p><!--/$--></div><div class="rspress-doc-footer"><footer class="mt-8"><div class="xs:flex pb-5 px-2 justify-end items-center"></div><div class="flex flex-col"></div><div class="flex flex-col sm:flex-row sm:justify-around gap-4 pt-6"><div class="prev_c92d1 flex flex-col"></div><div class="next_c11be flex flex-col"></div></div></footer></div></div><div class="aside-container_bc5fa"><div class="flex flex-col"><div id="aside-container" class="relative text-sm font-medium"><div class="leading-7 block text-sm font-semibold pl-3">ON THIS PAGE</div><nav class="mt-1"><ul class="relative"><li><a href="#前言" title="前言" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:0;font-weight:semibold"><span class="aside-link-text block">前言</span></a></li><li><a href="#post--get" title="POST &amp; GET" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:0;font-weight:semibold"><span class="aside-link-text block">POST &amp; GET</span></a></li><li><a href="#get" title="GET:" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">GET:</span></a></li><li><a href="#post" title="POST:" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">POST:</span></a></li><li><a href="#编码encoding" title="编码(Encoding)" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:0;font-weight:semibold"><span class="aside-link-text block">编码(Encoding)</span></a></li><li><a href="#onsubmit" title="onsubmit" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:0;font-weight:semibold"><span class="aside-link-text block">onsubmit</span></a></li><li><a href="#普通提交数据的表单" title="普通提交数据的表单" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:0;font-weight:semibold"><span class="aside-link-text block">普通提交数据的表单</span></a></li><li><a href="#多个提交按钮的表单" title="多个提交按钮的表单" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:0;font-weight:semibold"><span class="aside-link-text block">多个提交按钮的表单</span></a></li><li><a href="#多个相同操作的表单" title="多个相同操作的表单" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:0;font-weight:semibold"><span class="aside-link-text block">多个相同操作的表单</span></a></li><li><a href="#搜索" title="搜索" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:0;font-weight:semibold"><span class="aside-link-text block">搜索</span></a></li><li><a href="#可爱的陋习" title="可爱的陋习" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:0;font-weight:semibold"><span class="aside-link-text block">可爱的陋习</span></a></li><li><a href="#demo" title="Demo" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:0;font-weight:semibold"><span class="aside-link-text block">Demo</span></a></li></ul></nav></div></div></div></div></div></div></section></div>
    <div id="search-container"></div>
  </body>
</html>
